(this["webpackJsonppermis-bateau"]=this["webpackJsonppermis-bateau"]||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(10),r=n.n(i),l=n(2),s=n(3),u=n(5),c=n(4),h=n(6),m=(n(17),function(e){var t=e.children;return a.a.createElement("div",{className:"card",style:{margin:"auto",padding:"2rem 1rem"}},t)}),p=function(e){var t=e.category,n=e.width,o=e.height,i=e.backgroundImage,r=e.backgroundPosition,l=e.children;return a.a.createElement(m,null,a.a.createElement("div",{style:{margin:"1rem auto 2rem auto",width:n,height:o,backgroundImage:'url("'.concat(i,'")'),backgroundPosition:r}}),a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement("b",null,t)),l)},d=function(e){var t=e.question,n=e.children;return a.a.createElement(m,null,a.a.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},a.a.createElement("b",null,t)),a.a.createElement("div",null,n))},g=function(e){var t=e.level,n=e.children;return"image"===t.type?a.a.createElement(p,{category:t.category,backgroundImage:t.image,backgroundPosition:"left -".concat(t.left,"px top -").concat(t.top,"px"),width:"".concat(t.width,"px"),height:"".concat(t.height,"px")},n):"text"===t.type?a.a.createElement(d,{question:t.question},n):null},v=n(8),b=n(11),f=n(7),y=n(1),E=[].concat(Object(y.a)(A("Amer",x("154;68;1334;304;S\xe9maphore\n      128;144;1518;300;Chemin\xe9e\n      108;108;1660;316;Moulin\n      98;98;1796;326;\xc9glise\n      82;132;1940;294;Tour\n      94;126;2120;300;Ch\xe2teau d'eau\n      94;174;1314;430;Phare\n      90;110;1462;496;Carburant\n      112;114;1598;492;Port de plaisance\n      106;112;1738;492;Port de p\xeache\n      128;116;1864;490;P\xeache interdite\n      100;114;2056;486;Mouillage autoris\xe9\n      108;114;2172;482;Mouillage interdit\n      168;150;1316;994;Rocher d\xe9couvert\n      138;88;1494;1052;Roche isol\xe9e\n      92;86;1666;1058;Roche \xe0 fleur d'eau\n      60;64;1826;1076;Roche submerg\xe9\n      304;84;1986;1130;\xc9pave","memento-cotier-1.jpg"))),Object(y.a)(A("Balises sur carte",x("68;168;1336;716;B\xe2bord\n      66;160;1440;722;Tribord\n      110;190;1544;694;Danger isol\xe9\n      72;180;1688;706;Marque sp\xe9ciale\n      104;180;1780;704;Eaux saines\n      80;192;1890;694;Nord\n      74;194;1994;690;Sud\n      96;194;2080;692;Ouest\n      100;192;2190;692;Est","memento-cotier-1.jpg"))),Object(y.a)(A("Balises",x("74;116;214;2052;Bou\xe9e de chenal\n      84;190;326;1978;Bou\xe9e fuseau\n      70;226;440;1948;Bou\xe9e charpente\n      68;208;562;1962;Espar\n      134;194;658;1974;Tourelle\n      88;112;1078;1928;Marque b\xe2bord\n      114;118;1262;1930;Marque tribord\n      88;194;1088;2384;Chenal pr\xe9f\xe9r\xe9 \xe0 tribord\n      76;194;1278;2386;Chenal pr\xe9f\xe9r\xe9 \xe0 b\xe2bord\n      174;206;1868;1874;Cardinale Nord\n      148;246;2092;1990;Cardinal Est\n      144;242;1672;1990;Cardinale Ouest\n      144;220;1882;2184;Cardinale Sud\n      110;252;1658;2586;Danger isol\xe9\n      126;298;1828;2588;Eaux saines\n      144;252;2074;2588;Marque sp\xe9ciale\n      160;216;2106;2976;\xc9pave en cas d'urgence\n      348;144;1646;3018;Dangers nouveaux graves\n      78;98;212;2662;Marque b\xe2bord de chenal traversier\n      96;84;462;2682;Marque tribord de chenal traversier\n      356;56;200;2930;Zone de beignade\n      414;80;180;3096;Limite des 300m","memento-cotier-1.jpg"))),Object(y.a)(A("Balises (Signalisation sur plage)",x("208;86;596;2618;Embarcation de sport ou de plaisance\n      218;88;596;2760;Navire \xe0 moteur\n      218;86;596;2882;Beignade\n      218;82;596;2996;V\xe9hicule Nautique \xe0 Moteur\n      210;84;598;3132;Bassin de vitesse","memento-cotier-1.jpg"))),Object(y.a)(A("Marques de navires",x("128;171;729;2260;Au mouillage\n      128;170;1083;2264;\xc9chou\xe9\n      114;152;718;2586;Bateau pilote\n      115;152;1096;2584;Remorqueur\n      107;167;432;2909;Non ma\xeetre de sa man\u0153uvre\n      109;168;755;2909;Capacit\xe9 de man\u0153uvre restreinte\n      108;168;1116;2909;Handicap\xe9 par son tirant d'eau\n      109;173;1587;2904;En action de p\xeache\n      105;173;1899;2904;Voilier\n      494;103;195;856;Plong\xe9e sous-marine","memento-cotier-2.jpg"))),Object(y.a)(A("Feux des navires",x("105;166;323;2908;Non ma\xeetre de sa man\u0153uvre\n      107;166;646;2908;Capacit\xe9 de man\u0153uvre restreinte\n      104;166;1009;2908;Handicap\xe9 par son tirant d'eau\n      110;172;1366;2904;Chalutier en action de p\xeache\n      111;169;1476;2903;En action de p\xeache\n      109;168;1790;2906;Voilier\n      125;168;604;2263;Au mouillage\n      123;165;960;2264;\xc9chou\xe9\n      112;150;603;2586;B\xe2teau pilote\n      114;152;865;2586;Remorqueur (remorque de - de 200m)\n      112;149;984;2584;Remorqueur (remorque de + de 200m)\n      69;103;721;856;Plong\xe9e sous-marine","memento-cotier-2.jpg"))),Object(y.a)(A("Feux de route d'un navire \xe0 moteur",x("119;131;236;2276;- de 7m\n      114;124;236;2420;- de 20m\n      110;121;240;2559;- de 50m\n      112;125;240;2696;+ 50m","memento-cotier-2.jpg"))),Object(y.a)(A("\xc9chelle de Beaufort",x("104;47;1331;1469;Grand frais\n      108;48;1328;1520;Coup de vent\n      100;56;1332;1570;Fort coup de vent\n      117;53;1332;1623;Temp\xeate","memento-cotier-2.jpg"))),Object(y.a)(A("\xc9chelle de Beaufort (2)",x("137;43;1443;1471;Force 7\n      165;46;1444;1522;Force 8\n      224;45;1440;1573;Force 9\n      120;43;1454;1628;Force 10","memento-cotier-2.jpg"))),Object(y.a)(A("Hauteur des vagues",x("143;43;1713;1471;de 0.5 \xe0 1.25m\n      96;50;1713;1520;de 1.25 \xe0 2.5m\n      86;48;1712;1572;de 2.5 \xe0 4m\n      129;46;1712;1628;de 4 \xe0 6m","memento-cotier-2.jpg"))),Object(y.a)(A("\xc9tat de la mer",x("194;47;1958;1469;Peu agit\xe9e\n      208;44;1955;1524;Agit\xe9e\n      172;45;1956;1575;Forte\n      136;48;1958;1626;Tr\xe8s forte","memento-cotier-2.jpg"))),Object(y.a)(A("Signaux portuaires",x("64;186;211;440;Passage interdit - Danger grave\n      73;188;328;440;Passage \xe0 sens unique - Attendre\n      75;184;422;440;Passage \xe0 sens unique - Passer\n      69;146;558;298;Passage \xe0 double sens\n      67;142;712;303;Attendre les instructions\n      177;127;590;521;Possibilit\xe9 de passer hors chenal","memento-cotier-2.jpg"))),Object(y.a)(A("Signaux portuaires - Information m\xe9t\xe9o nuit",x("46;97;319;1125;Coup de vent Nord-Ouest\n      50;102;452;1124;Coup de vent Nord-Est\n      48;100;319;1290;Coup de vent Sud-Ouest\n      44;102;453;1290;Coup de vent Sud-Est\n      48;99;506;1500.6666870117188;Grand Frais","memento-cotier-2.jpg"))),Object(y.a)(A("Signaux portuaires - Information m\xe9t\xe9o jour",x("47;74;264;1134;Coup de vent Nord-Ouest\n      47;106;506;1122;Coup de vent Nord-Est\n      49;72;263;1310;Coup de vent Sud-Ouest\n      45;103;507;1291;Coup de vent Sud-Est\n      50;99;451;1501.6666870117188;Grand frais","memento-cotier-2.jpg"))),Object(y.a)(A("Signaux des balises",x("135;29;965;2208.800048828125;Marque b\xe2bord\n      136;26;964;2242.800048828125;Marque b\xe2bord\n      137;26;963;2271.800048828125;Marque b\xe2bord\n      135;27;963;2302.800048828125;Marque b\xe2bord\n      136;33;1369;2208.800048828125;Marque tribord\n      134;27;1370;2241.800048828125;Marque tribord\n      136;28;1369;2272.800048828125;Marque tribord\n      137;30;1370;2303.800048828125;Marque tribord\n      132;29;1052;2660.800048828125;Chenal pr\xe9f\xe9r\xe9 \xe0 tribord\n      131;28;1265;2662.800048828125;Chenal pr\xe9f\xe9r\xe9 \xe0 b\xe2bord\n      132;29;1886.8666381835938;2046.800048828125;Cardinale Nord\n      131;29;2097.8666381835938;2199.800048828125;Cardinale Est\n      130;28;1887.8666381835938;2369.800048828125;Cardinale Sud\n      134;26;1675.8666381835938;2200.800048828125;Cardinale Ouest\n      113;29;1651.8666381835938;2797.800048828125;Danger isol\xe9\n      110;25;1835.8666381835938;2786.800048828125;Eaux saines\n      109;24;1837.8666381835938;2809.800048828125;Eaux saines\n      109;22;1837.8666381835938;2833.800048828125;Eaux saines\n      107;21;1838.8666381835938;2855.800048828125;Eaux saines\n      109;25;2091.8666381835938;2780.800048828125;Marque sp\xe9ciale\n      108;24;2090.8666381835938;2804.800048828125;Marque sp\xe9ciale","memento-cotier-1.jpg"))),Object(y.a)(A("Signaux sonores",x("113;34;201;373.3333282470703;Manoeuvre b\xe2bord\n      112;34;368;373.3333282470703;Manoeuvre tribord\n      112;34;192;645.3333282470703;Manoeuvre arri\xe8re\n      200;33;753;375.3333282470703;D\xe9passement sur b\xe2bord\n      195;34;754;571.3333282470703;D\xe9passement sur tribord\n      199;35;921;463.3333282470703;D\xe9passement - Accord\n      163;32;553;672.3333282470703;Avertissement - Doute sur les intentions\n      110;35;582;712.3333282470703;Avertissement - J'approche d'un coude","memento-cotier-3.jpg"))),Object(y.a)(A("Signaux sonores - Brume",x("86;38;209;888.3333282470703;Avec erre\n      158;37;212;932.3333282470703;Stopp\xe9 sans erre\n      149;37;212;977.3333282470703;Privil\xe9gi\xe9 / Remorqueur\n      177;36;211;1026.3333282470703;Remorqu\xe9\n      147;39;208;1066.3333282470703;Navire pilote\n      286;63;864;839.3333282470703;Navire mouill\xe9\n      232;106;874;959.3333282470703;Navire \xe9chou\xe9","memento-cotier-3.jpg"))),Object(y.a)(A("Communication VHF",[{type:"text",question:"Signal de d\xe9tresse",solution:"MAYDAY",choices:["MAYDAY","PAN PAN","SECURITE"]},{type:"text",question:"Signal d'urgence",solution:"PAN PAN",choices:["MAYDAY","PAN PAN","SECURITE"]},{type:"text",question:"Signal de s\xe9curit\xe9",solution:"SECURITE",choices:["MAYDAY","PAN PAN","SECURITE"]},{type:"text",question:"Signal si homme \xe0 la mer",solution:"MAYDAY",choices:["MAYDAY","PAN PAN","SECURITE"]},{type:"text",question:"Signal si chavirage",solution:"MAYDAY",choices:["MAYDAY","PAN PAN","SECURITE"]},{type:"text",question:"Signal si danger grave et imminent",solution:"MAYDAY",choices:["MAYDAY","PAN PAN","SECURITE"]},{type:"text",question:"Signal si la s\xe9curit\xe9 du navire et/ou personne est en jeu",solution:"PAN PAN",choices:["MAYDAY","PAN PAN","SECURITE"]},{type:"text",question:"Signal s'il y a un bless\xe9",solution:"PAN PAN",choices:["MAYDAY","PAN PAN","SECURITE"]},{type:"text",question:"Signal si remorquage",solution:"PAN PAN",choices:["MAYDAY","PAN PAN","SECURITE"]},{type:"text",question:"Signal si la m\xe9t\xe9o s'aggrave",solution:"SECURITE",choices:["MAYDAY","PAN PAN","SECURITE"]},{type:"text",question:"Signal si on rencontre une \xe9pave",solution:"SECURITE",choices:["MAYDAY","PAN PAN","SECURITE"]}])),Object(y.a)(A("M\xe9t\xe9o",[{type:"text",question:'Si on croise un signal "Plong\xe9e sous-marine", il faut passer \xe0',solution:"100m",choices:["50m","100m","150m","200m"]},{type:"text",question:"Anticyclone",solution:"Hautes pressions",choices:C(["Hautes pressions","Basses pressions"])},{type:"text",question:"D\xe9pression",solution:"Basses pressions",choices:C(["Hautes pressions","Basses pressions"])},{type:"text",question:"Brise thermique",solution:"De jour vers la terre, de nuit vers la mer",choices:C(["De jour vers la terre, de nuit vers la mer","De jour vers la mer, de nuit vers la terre"])},{type:"text",question:"Bulletin M\xe9t\xe9o Sp\xe9cial",solution:"Sur le canal 16 \xe0 partir de force 7",choices:["Sur le canal 8 \xe0 partir de force 7","Sur le canal 8 \xe0 partir de force 8","Sur le canal 16 \xe0 partir de force 7","Sur le canal 16 \xe0 partir de force 8"]}])),Object(y.a)(A("Alphabet phon\xe9tique internationnal",[{type:"text",question:"Alphabet phon\xe9tique internationnal - A",solution:"Alfa",choices:C(["Alfa","Abricot","Alhambra","Albert"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - B",solution:"Bravo",choices:C(["Bravo","Banana","Bruno","Beta"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - C",solution:"Charlie",choices:C(["Charlie","Cross","Christ","Casino"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - D",solution:"Delta",choices:C(["Delta","Dallas","Druid","Domino"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - E",solution:"Echo",choices:C(["Echo","Elephant","Epsilon","Eclipse"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - F",solution:"Foxtrot",choices:C(["Foxtrot","Fire","Foret","Fjord"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - G",solution:"Golf",choices:C(["Golf","Gamma","Girafe","Guitar"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - H",solution:"Hotel",choices:C(["Hotel","Horizon","Hopital","Hubert"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - I",solution:"India",choices:C(["India","Iota","Indigo","Italy"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - J",solution:"Juliett",choices:C(["Juliett","Jus","Jews","Jupiter"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - K",solution:"Kilo",choices:C(["Kilo","Koala","Karma","Kronos"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - L",solution:"Lima",choices:C(["Lima","Lion","Light","Lambda"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - M",solution:"Mike",choices:C(["Mike","Maman","Micron","Meter"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - N",solution:"November",choices:C(["November","Noel","Nuage","Noeud"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - O",solution:"Oscar",choices:C(["Oscar","Origin","Omega","October"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - P",solution:"Papa",choices:C(["Papa","Patrick","Pi","Pinguin"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - Q",solution:"Quebec",choices:C(["Quebec","Quinoa","Quentin","Quantity"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - R",solution:"Rom\xe9o",choices:C(["Rom\xe9o","River","Red","Root"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - S",solution:"Sierra",choices:C(["Sierra","Sigma","Sample","Samba"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - T",solution:"Tango",choices:C(["Tango","Trout","Theta","Tatcher"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - U",solution:"Uniform",choices:C(["Uniform","Unicorn","Univer","Uranium"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - V",solution:"Victor",choices:C(["Victor","Victory","Velocity","Viper"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - W",solution:"Whiskey",choices:C(["Whiskey","Washington","Wagon","Wapiti"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - X",solution:"X-ray",choices:C(["X-ray","Xavier","Xylophone","Xantia"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - Y",solution:"Yankee",choices:C(["Yankee","Yaourt","Yacht","Yack"])},{type:"text",question:"Alphabet phon\xe9tique internationnal - Z",solution:"Zulu",choices:C(["Zulu","Zorro","Zumba","Zeus"])}])));function A(e,t){return t.map((function(t){return Object(f.a)({},t,{category:e})}))}function x(e,t){return e.replace(/ {4}/g,"").split("\n").map((function(e){return e.split(";")})).map((function(e){var n=Object(b.a)(e,5);return{type:"image",width:n[0],height:n[1],left:n[2],top:n[3],solution:n[4],image:t}}))}function C(e){return e.sort((function(){return Math.random()-Math.random()}))}function q(e){return"text"===e.type?e.choices:C(C((t=E.filter((function(t){return t!==e&&"image"===t.type&&t.category===e.category&&t.solution!==e.solution})).map((function(e){return e.solution})),Array.from(new Set(t)))).slice(0,3).concat(e.solution));var t}var S=E.reduce((function(e,t){return Object(f.a)({},e,Object(v.a)({},t.category||"Autre",[].concat(Object(y.a)(e[t.category||"Autre"]||[]),[t])))}),{});function k(){return a.a.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},a.a.createElement("h3",null,E.length," niveaux"),E.map((function(e,t){return a.a.createElement("div",{key:t,style:{border:"1px solid #666",flexGrow:1}},a.a.createElement(g,{level:e},a.a.createElement("div",{style:{textAlign:"center"}},e.solution)))})))}var j=function(e){function t(){var e;Object(l.a)(this,t),e=Object(u.a)(this,Object(c.a)(t).call(this));var n=Object.keys(S),o={checkedCategories:n,levelsNumber:20};return e.state=Object(f.a)({categories:n},e._getLastState()||o),e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_saveState",value:function(){var e=this.state,t=e.checkedCategories,n=e.levelsNumber;localStorage.setItem("ChallengeConfig",JSON.stringify({checkedCategories:t,levelsNumber:n}))}},{key:"_getLastState",value:function(){var e=localStorage.getItem("ChallengeConfig");return e?JSON.parse(e):null}},{key:"_onCheckboxChange",value:function(e,t){this.setState({checkedCategories:e.target.checked?[].concat(Object(y.a)(this.state.checkedCategories),[t]):this.state.checkedCategories.filter((function(e){return e!==t}))})}},{key:"_onSelect",value:function(e){this.setState({levelsNumber:+e.target.value})}},{key:"_selectAll",value:function(){this.setState({checkedCategories:this.state.categories})}},{key:"_selectNone",value:function(){this.setState({checkedCategories:[]})}},{key:"_submit",value:function(){this._saveState(),this.props.onStart({categories:this.state.checkedCategories,levelsNumber:this.state.levelsNumber})}},{key:"render",value:function(){var e=this,t=this.state,n=t.categories,o=t.checkedCategories,i=t.levelsNumber;return a.a.createElement("div",{className:"card",style:{padding:"2rem",margin:"2rem auto"}},a.a.createElement("div",null,a.a.createElement("b",null,"Cat\xe9gories :"),a.a.createElement("button",{onClick:function(){return e._selectAll()}},"Toutes"),a.a.createElement("button",{onClick:function(){return e._selectNone()}},"Aucunes")),n.map((function(t){return a.a.createElement("div",{key:t},a.a.createElement("input",{type:"checkbox",name:"categories",id:"cb-"+t,checked:o.includes(t),onChange:function(n){return e._onCheckboxChange(n,t)}}),a.a.createElement("label",{htmlFor:"cb-"+t},t))})),a.a.createElement("div",{style:{marginTop:"3rem"}},a.a.createElement("span",null,a.a.createElement("b",null,"Nombre de questions max : ")),a.a.createElement("select",{value:i,onChange:function(t){return e._onSelect(t)}},a.a.createElement("option",{value:"20"},"20"),a.a.createElement("option",{value:"40"},"40"),a.a.createElement("option",{value:"1000"},"Toutes"))),a.a.createElement("div",{style:{textAlign:"center",marginTop:"1rem"}},a.a.createElement("button",{className:"primary",onClick:function(){return e._submit()}},"Lancer le test")))}}]),t}(a.a.Component),N=function(e){var t=e.index,n=e.total,o=e.correctLevels;return a.a.createElement("h1",null,"Level ",Math.min(t+1,n)," / ",n,a.a.createElement("small",null,"Correct ",o," / ",t))},P=function(e,t){var n=E.filter((function(e){return t.includes(e.category)})).sort((function(){return Math.random()-Math.random()})).slice(0,e);return{levelsToChallenge:n,correctLevels:0,currentLevel:0,currentLevelChoices:n.length?q(n[0]):[],responseState:null,selectedIndex:null,correctIndex:null}},M=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state=Object(f.a)({},P(0,[]),{challengeConfig:null}),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_applyConfig",value:function(e){var t=e.levelsNumber,n=e.categories;this.setState(Object(f.a)({challengeConfig:e},P(t,n)))}},{key:"_onResponse",value:function(e,t,n){var o=this,a=t===e.solution,i=this.state.currentLevelChoices.indexOf(e.solution);this.setState({selectedIndex:n,correctIndex:i}),setTimeout((function(){return o._afterResponse(a)}),a?300:2e3)}},{key:"_afterResponse",value:function(e){var t=this.state,n=t.currentLevel,o=t.levelsToChallenge,a=n+1;this.setState({responseState:null,selectedIndex:null,correctIndex:null,correctLevels:this.state.correctLevels+e,currentLevelChoices:o[a]?q(o[a]):[],currentLevel:a})}},{key:"render",value:function(){var e=this,t=this.state,n=t.levelsToChallenge,o=t.currentLevel,i=t.currentLevelChoices,r=t.correctLevels,l=t.selectedIndex,s=t.correctIndex,u=t.challengeConfig,c=n[o];return u?a.a.createElement("div",null,a.a.createElement(N,{index:o,correctLevels:r,total:n.length}),c?a.a.createElement(g,{level:c},i.map((function(t,n){return a.a.createElement("button",{key:o+"-"+n,style:{display:"block",marginLeft:"auto",marginRight:"auto",marginBottom:"0.75rem",width:"100%",backgroundColor:(i=n,i===s?"lightgreen":i===l?"orangered":"")},onClick:function(){return e._onResponse(c,t,n)}},t);var i}))):a.a.createElement("button",{className:"button primary",onClick:function(){return e.setState({challengeConfig:null})}},"Recommencer")):a.a.createElement(j,{onStart:function(t){return e._applyConfig(t)}})}}]),t}(a.a.Component);function O(){return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("a",{href:"#/challenge",className:"button primary"},"Lancer le test")),a.a.createElement("div",null,a.a.createElement("a",{href:"#/level-builder",className:"button"},"G\xe9n\xe9rateur de niveaux")),a.a.createElement("div",null,a.a.createElement("a",{href:"#/all",className:"button"},"Voir tous les niveaux")))}var w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={image:new Image,imagePath:"memento-cotier-3.jpg",loaded:!1,overlayBox:null,overlayPoint1:null,overlayPoint2:null},n.imageRef=a.a.createRef(),n._mouseUpHandler=function(){return n._mouseUp()},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.image.onload=function(){e.setState({loaded:!0})},this.state.image.src=this.state.imagePath,document.addEventListener("mouseup",this._mouseUpHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this._mouseUpHandler)}},{key:"_imageMouseDown",value:function(e){this.setState({overlayPoint1:{x:e.clientX,y:e.clientY}})}},{key:"_mouseMove",value:function(e){var t=this.state.overlayPoint1;if(t){var n={x:e.clientX,y:e.clientY},o=Math.min(t.x,n.x),a=Math.min(t.y,n.y),i=Math.max(t.y,n.y),r=Math.max(t.x,n.x),l={left:o,top:a,bottom:i,right:r,width:r-o,height:i-a};this.setState({overlayPoint2:n,overlayBox:l})}}},{key:"_mouseUp",value:function(){var e=this.state.overlayBox;if(e){var t=e.left,n=e.top,o=e.width,a=e.height;this.setState({overlayBox:null,overlayPoint1:null,overlayPoint2:null});var i=this._sumElementToRootProperty(this.imageRef.current,(function(e){return e.scrollTop})),r=this._sumElementToRootProperty(this.imageRef.current,(function(e){return e.scrollLeft})),l=prompt("R\xe9ponse");l&&console.log([o,a,r+t,i+n,l].join(";"))}}},{key:"_sumElementToRootProperty",value:function(e,t){return(e.parentElement?this._sumElementToRootProperty(e.parentElement,t):0)+t(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.image,o=t.loaded,i=t.imagePath,r=t.overlayBox,l={width:n.width+"px",height:n.height+"px",background:'url("'.concat(i,'")'),backgroundSize:"contain"},s=r?{display:"block",top:r.top+"px",left:r.left+"px",width:r.width+"px",height:r.height+"px"}:{display:"none"};return a.a.createElement("div",null,o?a.a.createElement("div",{style:l,ref:this.imageRef,onMouseDown:function(t){return e._imageMouseDown(t)},onMouseMove:function(t){return e._mouseMove(t)}}):a.a.createElement("div",null,"Chargement..."),a.a.createElement("div",{id:"selection-overlay",style:s,onMouseMove:function(t){return e._mouseMove(t)}}))}}]),t}(a.a.Component),R=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={route:n._getCurrentRoute()},n.hashChangeHandler=function(){return n._onHachChange()},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("hashchange",this.hashChangeHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.hashChangeHandler)}},{key:"_onHachChange",value:function(){this.setState({route:this._getCurrentRoute()})}},{key:"_getCurrentRoute",value:function(){return window.location.hash.slice(1)}},{key:"render",value:function(){switch(this.state.route){case"/challenge":return a.a.createElement(M,null);case"/all":return a.a.createElement(k,null);case"/level-builder":return a.a.createElement(w,null);default:return a.a.createElement(O,null)}}}]),t}(a.a.Component),T=(n(18),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function D(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(a.a.createElement(R,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");T?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):D(t,e)}))}}()}},[[12,1,2]]]);
//# sourceMappingURL=main.ddf0985c.chunk.js.map