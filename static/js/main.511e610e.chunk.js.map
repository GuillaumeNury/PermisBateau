{"version":3,"sources":["components/Challenge.js","data/levels.js","pages/AllLevelPage.js","components/ChallengeStats.js","pages/ChallengePage.js","pages/IndexPage.js","pages/LevelBuilderPage.js","App.js","serviceWorker.js","index.js"],"names":["ImageChallenge","category","width","height","backgroundImage","backgroundPosition","children","style","margin","textAlign","TextChallenge","question","Challenge","level","type","image","left","top","levels","parseExercices","solution","choices","randomize","raw","replace","split","map","line","array","sort","Math","random","getProposedChoices","filter","lvl","slice","concat","AllLevelPage","display","flexWrap","length","idx","key","border","flexGrow","ChallengeStats","index","total","correctLevels","min","getInitialState","levelsToChallenge","currentLevel","currentLevelChoices","responseState","selectedIndex","correctIndex","ChallengePage","props","state","choice","isCorrect","this","indexOf","setState","setTimeout","_afterResponse","nextLevel","marginLeft","marginRight","marginBottom","backgroundColor","onClick","_onResponse","className","React","Component","IndexPage","href","LevelBuilderPage","Image","imagePath","loaded","overlayBox","overlayPoint1","overlayPoint2","imageRef","createRef","_mouseUpHandler","_mouseUp","onload","src","document","addEventListener","removeEventListener","evt","x","clientX","y","clientY","bottom","max","right","scrollTop","_sumElementToRootProperty","current","e","scrollLeft","prompt","console","log","join","element","getter","parentElement","background","backgroundSize","overlayStyle","ref","onMouseDown","_imageMouseDown","onMouseMove","_mouseMove","id","App","route","_getCurrentRoute","hashChangeHandler","_onHachChange","window","location","hash","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","getElementById","URL","process","origin","fetch","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.511e610e.chunk.js","sourcesContent":["import React from \"react\"\n\nconst ImageChallenge = ({\n  category,\n  width,\n  height,\n  backgroundImage,\n  backgroundPosition,\n  children,\n}) => {\n  return (\n    <div>\n      <div\n        style={{\n          margin: \"1rem auto 2rem auto\",\n          width,\n          height,\n          backgroundImage: `url(\"${backgroundImage}\")`,\n          backgroundPosition,\n        }}\n      ></div>\n      <div style={{ textAlign: \"center\" }}>\n        <b>{category}</b>\n      </div>\n      {children}\n    </div>\n  )\n}\n\nconst TextChallenge = ({ question, children }) => {\n  return (\n    <div>\n      <div style={{ textAlign: \"center\" }}>\n        <b>{question}</b>\n      </div>\n      <div>{children}</div>\n    </div>\n  )\n}\n\nconst Challenge = ({ level, children }) => {\n  return level.type === \"image\" ? (\n    <ImageChallenge\n      category={level.category}\n      backgroundImage={level.image}\n      backgroundPosition={`left -${level.left}px top -${level.top}px`}\n      width={`${level.width}px`}\n      height={`${level.height}px`}\n    >\n      {children}\n    </ImageChallenge>\n  ) : level.type === \"text\" ? (\n    <TextChallenge question={level.question}>{children}</TextChallenge>\n  ) : null\n}\n\nexport default Challenge\n","export const levels = [\n  ...parseExercices(\n    `154;68;1334;304;Sémaphore\n    128;144;1518;300;Cheminée\n    108;108;1660;316;Moulin\n    98;98;1796;326;Église\n    82;132;1940;294;Tour\n    94;126;2120;300;Château d'eau\n    94;174;1314;430;Phare\n    90;110;1462;496;Carburant\n    112;114;1598;492;Port de plaisance\n    106;112;1738;492;Port de pêche\n    128;116;1864;490;Pêche interdite\n    100;114;2056;486;Mouillage autorisé\n    108;114;2172;482;Mouillage interdit\n    168;150;1316;994;Rocher découvert\n    138;88;1494;1052;Roche isolée\n    92;86;1666;1058;Roche à fleur d'eau\n    60;64;1826;1076;Roche submergé\n    304;84;1986;1130;Épave`,\n    \"Amer\",\n    \"memento-cotier-1.jpg\"\n  ),\n  ...parseExercices(\n    `68;168;1336;716;Bâbord\n    66;160;1440;722;Tribord\n    110;190;1544;694;Danger isolé\n    72;180;1688;706;Marque spéciale\n    104;180;1780;704;Eaux saines\n    80;192;1890;694;Nord\n    74;194;1994;690;Sud\n    96;194;2080;692;Ouest\n    100;192;2190;692;Est`,\n    \"Balises sur carte\",\n    \"memento-cotier-1.jpg\"\n  ),\n  ...parseExercices(\n    `74;116;214;2052;Bouée de chenal\n    84;190;326;1978;Bouée fuseau\n    70;226;440;1948;Bouée charpente\n    68;208;562;1962;Espar\n    134;194;658;1974;Tourelle\n    88;112;1078;1928;Marque bâbord\n    114;118;1262;1930;Marque tribord\n    88;194;1088;2384;Chenal préféré à tribord\n    76;194;1278;2386;Chenal préféré à bâbord\n    174;206;1868;1874;Cardinale Nord\n    148;246;2092;1990;Cardinal Est\n    144;242;1672;1990;Cardinale Ouest\n    144;220;1882;2184;Cardinale Sud\n    110;252;1658;2586;Danger isolé\n    126;298;1828;2588;Eaux saines\n    144;252;2074;2588;Marque spéciale\n    160;216;2106;2976;Épave en cas d'urgence\n    348;144;1646;3018;Dangers nouveaux graves\n    78;98;212;2662;Marque bâbord de chenal traversier\n    96;84;462;2682;Marque tribord de chenal traversier\n    356;56;200;2930;Zone de beignade\n    414;80;180;3096;Limite des 300m`,\n    \"Balises\",\n    \"memento-cotier-1.jpg\"\n  ),\n  ...parseExercices(\n    `208;86;596;2618;Embarcation de sport ou de plaisance\n    218;88;596;2760;Navire à moteur\n    218;86;596;2882;Beignade\n    218;82;596;2996;Véhicule Nautique à Moteur\n    210;84;598;3132;Bassin de vitesse`,\n    \"Balises (Signalisation sur plage)\",\n    \"memento-cotier-1.jpg\"\n  ),\n  ...parseExercices(\n    `128;171;729;2260;Au mouillage\n    128;170;1083;2264;Échoué\n    114;152;718;2586;Bateau pilote\n    115;152;1096;2584;Remorqueur\n    107;167;432;2909;Non maître de sa manœuvre\n    109;168;755;2909;Capacité de manœuvre restreinte\n    108;168;1116;2909;Handicapé par son tirant d'eau\n    109;173;1587;2904;En action de pêche\n    105;173;1899;2904;Voilier\n    494;103;195;856;Plongée sous-marine`,\n    \"Marques de navires\",\n    \"memento-cotier-2.jpg\"\n  ),\n  ...parseExercices(\n    `105;166;323;2908;Non maître de sa manœuvre\n    107;166;646;2908;Capacité de manœuvre restreinte\n    104;166;1009;2908;Handicapé par son tirant d'eau\n    110;172;1366;2904;Chalutier en action de pêche\n    111;169;1476;2903;En action de pêche\n    109;168;1790;2906;Voilier\n    125;168;604;2263;Au mouillage\n    123;165;960;2264;Échoué\n    112;150;603;2586;Bâteau pilote\n    114;152;865;2586;Remorqueur (remorque de - de 200m)\n    112;149;984;2584;Remorqueur (remorque de + de 200m)\n    69;103;721;856;Plongée sous-marine`,\n    \"Feux des navires\",\n    \"memento-cotier-2.jpg\"\n  ),\n  ...parseExercices(\n    `119;131;236;2276;- de 7m\n    114;124;236;2420;- de 20m\n    110;121;240;2559;- de 50m\n    112;125;240;2696;+ 50m`,\n    \"Feux de route d'un navire à moteur\",\n    \"memento-cotier-2.jpg\"\n  ),\n  ...parseExercices(\n    `104;47;1331;1469;Grand frais\n    108;48;1328;1520;Coup de vent\n    100;56;1332;1570;Fort coup de vent\n    117;53;1332;1623;Tempête`,\n    \"Échelle de Beaufort\",\n    \"memento-cotier-2.jpg\"\n  ),\n  ...parseExercices(\n    `137;43;1443;1471;Force 7\n    165;46;1444;1522;Force 8\n    224;45;1440;1573;Force 9\n    120;43;1454;1628;Force 10`,\n    \"Échelle de Beaufort (2)\",\n    \"memento-cotier-2.jpg\"\n  ),\n  ...parseExercices(\n    `143;43;1713;1471;de 0.5 à 1.25m\n    96;50;1713;1520;de 1.25 à 2.5m\n    86;48;1712;1572;de 2.5 à 4m\n    129;46;1712;1628;de 4 à 6m`,\n    \"Hauteur des vagues\",\n    \"memento-cotier-2.jpg\"\n  ),\n  ...parseExercices(\n    `194;47;1958;1469;Peu agitée\n    208;44;1955;1524;Agitée\n    172;45;1956;1575;Forte\n    136;48;1958;1626;Très forte`,\n    \"État de la mer\",\n    \"memento-cotier-2.jpg\"\n  ),\n  ...parseExercices(\n    `64;186;211;440;Passage interdit - Danger grave\n    73;188;328;440;Passage à sens unique - Attendre\n    75;184;422;440;Passage à sens unique - Passer\n    69;146;558;298;Passage à double sens\n    67;142;712;303;Attendre les instructions\n    177;127;590;521;Possibilité de passer hors chenal`,\n    \"Signaux portuaires\",\n    \"memento-cotier-2.jpg\"\n  ),\n  ...parseExercices(\n    `46;97;319;1125;Coup de vent Nord-Ouest\n    50;102;452;1124;Coup de vent Nord-Est\n    48;100;319;1290;Coup de vent Sud-Ouest\n    44;102;453;1290;Coup de vent Sud-Est\n    48;99;506;1500.6666870117188;Grand Frais`,\n    \"Signaux portuaires - Information météo nuit\",\n    \"memento-cotier-2.jpg\"\n  ),\n  ...parseExercices(\n    `47;74;264;1134;Coup de vent Nord-Ouest\n    47;106;506;1122;Coup de vent Nord-Est\n    49;72;263;1310;Coup de vent Sud-Ouest\n    45;103;507;1291;Coup de vent Sud-Est\n    50;99;451;1501.6666870117188;Grand frais`,\n    \"Signaux portuaires - Information météo jour\",\n    \"memento-cotier-2.jpg\"\n  ),\n  ...parseExercices(\n    `135;29;965;2208.800048828125;Marque bâbord\n    136;26;964;2242.800048828125;Marque bâbord\n    137;26;963;2271.800048828125;Marque bâbord\n    135;27;963;2302.800048828125;Marque bâbord\n    136;33;1369;2208.800048828125;Marque tribord\n    134;27;1370;2241.800048828125;Marque tribord\n    136;28;1369;2272.800048828125;Marque tribord\n    137;30;1370;2303.800048828125;Marque tribord\n    132;29;1052;2660.800048828125;Chenal préféré à tribord\n    131;28;1265;2662.800048828125;Chenal préféré à bâbord\n    132;29;1886.8666381835938;2046.800048828125;Cardinale Nord\n    131;29;2097.8666381835938;2199.800048828125;Cardinale Est\n    130;28;1887.8666381835938;2369.800048828125;Cardinale Sud\n    134;26;1675.8666381835938;2200.800048828125;Cardinale Ouest\n    113;29;1651.8666381835938;2797.800048828125;Danger isolé\n    110;25;1835.8666381835938;2786.800048828125;Eaux saines\n    109;24;1837.8666381835938;2809.800048828125;Eaux saines\n    109;22;1837.8666381835938;2833.800048828125;Eaux saines\n    107;21;1838.8666381835938;2855.800048828125;Eaux saines\n    109;25;2091.8666381835938;2780.800048828125;Marque spéciale\n    108;24;2090.8666381835938;2804.800048828125;Marque spéciale`,\n    \"Signaux des balises\",\n    \"memento-cotier-1.jpg\"\n  ),\n  ...parseExercices(\n    `113;34;201;373.3333282470703;Manoeuvre bâbord\n    112;34;368;373.3333282470703;Manoeuvre tribord\n    112;34;192;645.3333282470703;Manoeuvre arrière\n    200;33;753;375.3333282470703;Dépassement sur bâbord\n    195;34;754;571.3333282470703;Dépassement sur tribord\n    199;35;921;463.3333282470703;Dépassement - Accord\n    163;32;553;672.3333282470703;Avertissement - Doute sur les intentions\n    110;35;582;712.3333282470703;Avertissement - J'approche d'un coude`,\n    \"Signaux sonores\",\n    \"memento-cotier-3.jpg\"\n  ),\n  ...parseExercices(\n    `86;38;209;888.3333282470703;Avec erre\n    158;37;212;932.3333282470703;Stoppé sans erre\n    149;37;212;977.3333282470703;Privilégié / Remorqueur\n    177;36;211;1026.3333282470703;Remorqué\n    147;39;208;1066.3333282470703;Navire pilote\n    286;63;864;839.3333282470703;Navire mouillé\n    232;106;874;959.3333282470703;Navire échoué`,\n    \"Signaux sonores - Brume\",\n    \"memento-cotier-3.jpg\"\n  ),\n  {\n    type: \"text\",\n    question: \"Signal de détresse\",\n    solution: \"MAYDAY\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: \"Signal d'urgence\",\n    solution: \"PAN PAN\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: \"Signal de sécurité\",\n    solution: \"SECURITE\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: \"Signal si homme à la mer\",\n    solution: \"MAYDAY\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: \"Signal si chavirage\",\n    solution: \"MAYDAY\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: \"Signal si danger grave et imminent\",\n    solution: \"MAYDAY\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: \"Signal si la sécurité du navire et/ou personne est en jeu\",\n    solution: \"PAN PAN\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: \"Signal s'il y a un blessé\",\n    solution: \"PAN PAN\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: \"Signal si remorquage\",\n    solution: \"PAN PAN\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: \"Signal si la météo s'aggrave\",\n    solution: \"SECURITE\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: \"Signal si on rencontre une épave\",\n    solution: \"SECURITE\",\n    choices: [\"MAYDAY\", \"PAN PAN\", \"SECURITE\"],\n  },\n  {\n    type: \"text\",\n    question: 'Si on croise un signal \"Plongée sous-marine\", il faut passer à',\n    solution: \"100m\",\n    choices: [\"50m\", \"100m\", \"150m\", \"200m\"],\n  },\n  {\n    type: \"text\",\n    question: \"Anticyclone\",\n    solution: \"Hautes pressions\",\n    choices: randomize([\"Hautes pressions\", \"Basses pressions\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Dépression\",\n    solution: \"Basses pressions\",\n    choices: randomize([\"Hautes pressions\", \"Basses pressions\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Brise thermique\",\n    solution: \"De jour vers la terre, de nuit vers la mer\",\n    choices: randomize([\n      \"De jour vers la terre, de nuit vers la mer\",\n      \"De jour vers la mer, de nuit vers la terre\",\n    ]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - A\",\n    solution: \"Alfa\",\n    choices: randomize([\"Alfa\", \"Abricot\", \"Alhambra\", \"Albert\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - B\",\n    solution: \"Bravo\",\n    choices: randomize([\"Bravo\", \"Banana\", \"Bruno\", \"Beta\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - C\",\n    solution: \"Charlie\",\n    choices: randomize([\"Charlie\", \"Cross\", \"Christ\", \"Casino\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - D\",\n    solution: \"Delta\",\n    choices: randomize([\"Delta\", \"Dallas\", \"Druid\", \"Domino\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - E\",\n    solution: \"Echo\",\n    choices: randomize([\"Echo\", \"Elephant\", \"Epsilon\", \"Eclipse\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - F\",\n    solution: \"Foxtrot\",\n    choices: randomize([\"Foxtrot\", \"Fire\", \"Foret\", \"Fjord\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - G\",\n    solution: \"Golf\",\n    choices: randomize([\"Golf\", \"Gamma\", \"Girafe\", \"Guitar\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - H\",\n    solution: \"Hotel\",\n    choices: randomize([\"Hotel\", \"Horizon\", \"Hopital\", \"Hubert\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - I\",\n    solution: \"India\",\n    choices: randomize([\"India\", \"Iota\", \"Indigo\", \"Italy\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - J\",\n    solution: \"Juliett\",\n    choices: randomize([\"Juliett\", \"Jus\", \"Jews\", \"Jupiter\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - K\",\n    solution: \"Kilo\",\n    choices: randomize([\"Kilo\", \"Koala\", \"Karma\", \"Kronos\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - L\",\n    solution: \"Lima\",\n    choices: randomize([\"Lima\", \"Lion\", \"Light\", \"Lambda\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - M\",\n    solution: \"Mike\",\n    choices: randomize([\"Mike\", \"Maman\", \"Micron\", \"Meter\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - N\",\n    solution: \"November\",\n    choices: randomize([\"November\", \"Noel\", \"Nuage\", \"Noeud\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - O\",\n    solution: \"Oscar\",\n    choices: randomize([\"Oscar\", \"Origin\", \"Omega\", \"October\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - P\",\n    solution: \"Papa\",\n    choices: randomize([\"Papa\", \"Patrick\", \"Pi\", \"Pinguin\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - Q\",\n    solution: \"Quebec\",\n    choices: randomize([\"Quebec\", \"Quinoa\", \"Quentin\", \"Quantity\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - R\",\n    solution: \"Roméo\",\n    choices: randomize([\"Roméo\", \"River\", \"Red\", \"Root\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - S\",\n    solution: \"Sierra\",\n    choices: randomize([\"Sierra\", \"Sigma\", \"Sample\", \"Samba\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - T\",\n    solution: \"Tango\",\n    choices: randomize([\"Tango\", \"Trout\", \"Theta\", \"Tatcher\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - U\",\n    solution: \"Uniform\",\n    choices: randomize([\"Uniform\", \"Unicorn\", \"Univer\", \"Uranium\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - V\",\n    solution: \"Victor\",\n    choices: randomize([\"Victor\", \"Victory\", \"Velocity\", \"Viper\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - W\",\n    solution: \"Whiskey\",\n    choices: randomize([\"Whiskey\", \"Washington\", \"Wagon\", \"Wapiti\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - X\",\n    solution: \"X-ray\",\n    choices: randomize([\"X-ray\", \"Xavier\", \"Xylophone\", \"Xantia\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - Y\",\n    solution: \"Yankee\",\n    choices: randomize([\"Yankee\", \"Yaourt\", \"Yacht\", \"Yack\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Alphabet phonétique internationnal - Z\",\n    solution: \"Zula\",\n    choices: randomize([\"Zula\", \"Zorro\", \"Zumba\", \"Zeus\"]),\n  },\n  {\n    type: \"text\",\n    question: \"Bulletin Météo Spécial\",\n    solution: \"Sur le canal 16 à partir de force 7\",\n    choices: [\n      \"Sur le canal 8 à partir de force 7\",\n      \"Sur le canal 8 à partir de force 8\",\n      \"Sur le canal 16 à partir de force 7\",\n      \"Sur le canal 16 à partir de force 8\",\n    ],\n  },\n]\n\n/**\n *\n * @param {string} raw\n * @param {string} category\n */\nfunction parseExercices(raw, category, image) {\n  return raw\n    .replace(/ {4}/g, \"\")\n    .split(\"\\n\")\n    .map(line => line.split(\";\"))\n    .map(([width, height, left, top, solution]) => ({\n      type: \"image\",\n      width,\n      height,\n      left,\n      top,\n      solution,\n      category,\n      image,\n    }))\n}\n\nfunction randomize(array) {\n  return array.sort(() => Math.random() - Math.random());\n}\n\nexport function getProposedChoices(level) {\n  return level.type === \"image\"\n    ? randomize(\n        randomize(\n          levels.filter(lvl => lvl !== level && lvl.type === \"image\" && lvl.category === level.category && lvl.solution !== level.solution)\n        )\n        .slice(0, 3)\n        .concat(level)\n        .map(lvl => lvl.solution)\n    )\n    : level.type === \"text\"\n    ? level.choices\n    : []\n}","import React from 'react';\nimport Challenge from '../components/Challenge';\nimport { levels } from '../data/levels';\n\nexport default function AllLevelPage()\n{\n    return (\n        <div style={{ display: \"inline-flex\", flexWrap: \"wrap\" }}>\n            <h3>{levels.length} niveaux</h3>\n            {levels.map((lvl, idx) => <div key={idx} style={{ border: \"1px solid #666\", flexGrow: 1 }}>\n                <Challenge level={lvl}>\n                    <div style={{ textAlign: 'center' }}>{lvl.solution}</div>\n                </Challenge>\n            </div>)}\n        </div>\n    );\n}","import React from \"react\";\n\nconst ChallengeStats = ({ index, total, correctLevels }) => (\n  <h1>\n    Level {Math.min(index + 1, total)} / {total}\n    <small>\n      Correct {correctLevels} / {index}\n    </small>\n  </h1>\n)\n\nexport default ChallengeStats;\n","import React from \"react\";\nimport Challenge from \"../components/Challenge\";\nimport ChallengeStats from \"../components/ChallengeStats\";\nimport { getProposedChoices, levels } from \"../data/levels\";\n\nconst getInitialState = () => {\n  const levelsToChallenge = levels\n        .sort(() => Math.random() - Math.random())\n        .slice(0, 20)\n\n  return {\n    levelsToChallenge,\n    correctLevels: 0,\n    currentLevel: 0,\n    currentLevelChoices: getProposedChoices(levelsToChallenge[0]),\n    responseState: null,\n    selectedIndex: null,\n    correctIndex: null,\n  }\n};\n\nexport default class ChallengePage extends React.Component {\n    constructor(props) {\n      super(props)\n  \n      this.state = getInitialState()\n    }\n  \n    _onResponse(level, choice, index) {\n      const isCorrect = choice === level.solution\n      const correctIndex = this.state.currentLevelChoices.indexOf(level.solution);\n  \n      this.setState({\n        selectedIndex: index,\n        correctIndex\n      });\n  \n      const delay = isCorrect ? 300 : 2000\n  \n      setTimeout(() => this._afterResponse(isCorrect), delay)\n    }\n  \n    _afterResponse(isCorrect) {\n      const { currentLevel, levelsToChallenge } = this.state\n      const nextLevel = currentLevel + 1\n  \n      this.setState({\n        responseState: null,\n        selectedIndex: null,\n        correctIndex: null,\n        correctLevels: this.state.correctLevels + isCorrect,\n        currentLevelChoices: levelsToChallenge[nextLevel]\n          ? getProposedChoices(levelsToChallenge[nextLevel])\n          : [],\n        currentLevel: nextLevel,\n      })\n    }\n  \n    render() {\n      const {\n        levelsToChallenge,\n        currentLevel,\n        currentLevelChoices,\n        correctLevels,\n        selectedIndex,\n        correctIndex,\n      } = this.state\n\n      const level = levelsToChallenge[currentLevel]\n      const backgroundColor = (index) =>\n        index === correctIndex\n            ? \"lightgreen\"\n            : index === selectedIndex \n            ? \"orangered\"\n            : \"\";\n  \n      return (\n        <div>\n          <ChallengeStats\n            index={currentLevel}\n            correctLevels={correctLevels}\n            total={levelsToChallenge.length}\n          />\n          {level\n            ? (\n              <Challenge level={level}>\n                {currentLevelChoices.map((choice, idx) => (\n                  <button\n                    key={idx}\n                    style={{\n                      display: \"block\",\n                      marginLeft: \"auto\",\n                      marginRight: \"auto\",\n                      marginBottom: \"0.75rem\",\n                      backgroundColor: backgroundColor(idx),\n                    }}\n                    onClick={() => this._onResponse(level, choice, idx)}\n                  >\n                    {choice}\n                  </button>\n                ))}\n              </Challenge>\n            )\n            : (\n              <button className=\"button primary\" onClick={() => this.setState(getInitialState())}>Recommencer</button>\n            )\n        }\n        </div>);\n    }\n  }","import React from 'react';\n\nexport default function IndexPage()\n{\n    return (\n        <div>\n            <div><a href=\"#/challenge\" className=\"button primary\">Lancer le test</a></div>\n            <div><a href=\"#/level-builder\" className=\"button\">Générateur de niveaux</a></div>\n            <div><a href=\"#/all\" className=\"button\">Voir tous les niveaux</a></div>\n        </div>\n    );\n}","import React from 'react';\n\nexport default class LevelBuilderPage extends React.Component {\n    constructor(props) {\n      super(props)\n  \n      this.state = {\n          image: new Image(),\n          imagePath: 'memento-cotier-3.jpg',\n          loaded: false,\n          overlayBox: null,\n          overlayPoint1: null,\n          overlayPoint2: null,\n      }\n\n      this.imageRef = React.createRef();\n      this._mouseUpHandler = () => this._mouseUp();\n    }\n\n    componentDidMount() {\n        // eslint-disable-next-line\n        this.state.image.onload = () => {\n            this.setState({ loaded: true });\n        }\n\n        // eslint-disable-next-line\n        this.state.image.src = this.state.imagePath;\n\n        document.addEventListener('mouseup', this._mouseUpHandler);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mouseup', this._mouseUpHandler);\n    }\n\n    /**\n     * \n     * @param {MouseEvent} evt \n     */\n    _imageMouseDown(evt) {\n        this.setState({\n            overlayPoint1: { x: evt.clientX, y: evt.clientY }\n        })\n    }\n\n    /**\n     * \n     * @param {MouseEvent} evt \n     */\n    _mouseMove(evt) {\n        const { overlayPoint1 } = this.state;\n\n        if (!overlayPoint1) return;\n\n        const overlayPoint2 = { x: evt.clientX, y: evt.clientY };\n\n        const left = Math.min(overlayPoint1.x, overlayPoint2.x);\n        const top = Math.min(overlayPoint1.y, overlayPoint2.y);\n        const bottom = Math.max(overlayPoint1.y, overlayPoint2.y);\n        const right = Math.max(overlayPoint1.x, overlayPoint2.x);\n        const width = right - left\n        const height = bottom - top\n\n        const overlayBox = { left, top, bottom, right, width, height };\n\n        this.setState({\n            overlayPoint2,\n            overlayBox,\n        })\n    }\n\n    _mouseUp() {\n        const { overlayBox } = this.state;\n\n        if (!overlayBox) return;\n\n        const { left, top, width, height } = overlayBox;\n\n        this.setState({\n            overlayBox: null,\n            overlayPoint1: null,\n            overlayPoint2: null,\n        });\n\n        const scrollTop = this._sumElementToRootProperty(this.imageRef.current, e => e.scrollTop);\n        const scrollLeft = this._sumElementToRootProperty(this.imageRef.current, e => e.scrollLeft);\n\n        const solution = prompt('Réponse');\n\n        if (solution) {\n            console.log([width, height, scrollLeft + left, scrollTop + top, solution].join(';'));\n        }\n    }\n\n    /**\n     * \n     * @param {HTMLElement} element\n     * @param {(element: HTMLElement) => number} getter\n     */\n    _sumElementToRootProperty(element, getter) {\n        return (element.parentElement? this._sumElementToRootProperty(element.parentElement, getter) : 0) + getter(element);\n    }\n\n    render() {\n        const { image, loaded, imagePath, overlayBox } = this.state;\n        const style = {\n            width: image.width + 'px',\n            height: image.height + 'px',\n            background: `url(\"${imagePath}\")`,\n            backgroundSize: 'contain'\n        };\n\n        const overlayStyle = overlayBox ? {\n            display: 'block',\n            top: overlayBox.top + 'px',\n            left: overlayBox.left + 'px',\n            width: overlayBox.width + 'px',\n            height: overlayBox.height + 'px',\n        } : { display: 'none' };\n\n        return (<div>\n            {loaded\n                ? <div style={style} ref={this.imageRef} onMouseDown={(evt) => this._imageMouseDown(evt)} onMouseMove={(evt) => this._mouseMove(evt)}></div>\n                : <div>Chargement...</div>}\n            <div id=\"selection-overlay\" style={overlayStyle} onMouseMove={(evt) => this._mouseMove(evt)}></div>\n        </div>);\n    }\n}","import React from 'react';\nimport './App.css';\nimport AllLevelPage from './pages/AllLevelPage';\nimport ChallengePage from './pages/ChallengePage';\nimport IndexPage from './pages/IndexPage';\nimport LevelBuilderPage from './pages/LevelBuilderPage';\n\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n        route: this._getCurrentRoute(),\n    }\n\n    this.hashChangeHandler = () => this._onHachChange();\n  }\n\n  componentDidMount() {\n      window.addEventListener('hashchange', this.hashChangeHandler);\n  }\n\n  componentWillUnmount() {\n      window.removeEventListener('hashchange', this.hashChangeHandler);\n  }\n\n  _onHachChange() {\n      this.setState({ route: this._getCurrentRoute(), });\n  }\n\n  _getCurrentRoute() {\n      return window.location.hash.slice(1);\n  }\n\n  render() {\n    switch (this.state.route)\n    {\n      case '/challenge': return <ChallengePage />\n      case '/all': return <AllLevelPage />\n      case '/level-builder': return <LevelBuilderPage />\n      default: return <IndexPage />\n    }\n  }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}